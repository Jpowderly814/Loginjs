{"ast":null,"code":"/*import './App.css';\n\nimport { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\n\n\nconst Login = () => {\n    const [usernameReg, setUsernameReg] = useState(\"\");\n    const [passwordReg, setPasswordReg] = useState(\"\");\n  \n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n  \n    const[loginStatus, setLoginStatus] = useState(false);\n  \n    Axios.defaults.withCredentials = true;\n  \n    const register = () => {\n      Axios.post(\"http://localhost:3001/register\", {\n        username: usernameReg, password: passwordReg\n      }).then((response) => {\n        console.log(response);\n      });\n    };\n  \n    const login = () => {\n      Axios.post(\"http://localhost:3001/login\", {\n        username: username, \n        password: password,\n      }).then((response) => {\n        if(!response.data.auth){\n          setLoginStatus(false);\n        }else{\n          console.log(response.data);\n          localStorage.setItem(\"token\", response.data.token);\n          setLoginStatus(true);\n        }\n  \n      });\n    };\n  \n    const userAuthenticated = () => {\n      Axios.get(\"http://localhost:3001/isUserAuth\", {\n        headers: {\"x-access-token\": localStorage.getItem(\"token\"),\n      \n        },\n      }).then((response) => {\n          console.log(response);\n      });\n    };\n  \n    useEffect (() => {\n      Axios.get(\"http://localhost:3001/login\").then((response) => {\n        if (response.data.loggedIn === true){\n          setLoginStatus(response.data.user[0].username);\n        }\n      }); \n    }, []);\n  \n    return (\n      <div className=\"App\">\n        <div className=\"registration\">\n          <h1>Registration</h1>\n          <label>Username</label>\n          <input\n            type=\"text\"\n            onChange={(e) => {\n              setUsernameReg(e.target.value);\n            }}\n          />\n          <label>Password</label>\n          <input\n            type=\"text\"\n            onChange={(e) => {\n              setPasswordReg(e.target.value);\n            }}\n          />\n          <button onClick={register}> Register </button>\n        </div>\n  \n        <div className=\"login\">\n          <h1>Login</h1>\n          <input\n            type=\"text\"\n            placeholder=\"Username...\"\n            onChange={(e) => {\n              setUsername(e.target.value);\n            }}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password...\"\n            onChange={(e) => {\n              setPassword(e.target.value);\n            }} \n          />\n          <button onClick={login}> Login </button>\n  \n          <div>{setLoginStatus}</div>\n        </div>\n        \n        {loginStatus && <button onClick={userAuthenticated}>Check if Authenticated</button>}\n  \n      </div>\n    );\n\n}\n\nexport default Login;*/","map":{"version":3,"sources":["/Users/powderlj/Desktop/Apprenticeship/loginjs/loginjs/client/src/Login.js"],"names":[],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\n/*import './App.css';\n\nimport { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\n\n\nconst Login = () => {\n    const [usernameReg, setUsernameReg] = useState(\"\");\n    const [passwordReg, setPasswordReg] = useState(\"\");\n  \n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n  \n    const[loginStatus, setLoginStatus] = useState(false);\n  \n    Axios.defaults.withCredentials = true;\n  \n    const register = () => {\n      Axios.post(\"http://localhost:3001/register\", {\n        username: usernameReg, password: passwordReg\n      }).then((response) => {\n        console.log(response);\n      });\n    };\n  \n    const login = () => {\n      Axios.post(\"http://localhost:3001/login\", {\n        username: username, \n        password: password,\n      }).then((response) => {\n        if(!response.data.auth){\n          setLoginStatus(false);\n        }else{\n          console.log(response.data);\n          localStorage.setItem(\"token\", response.data.token);\n          setLoginStatus(true);\n        }\n  \n      });\n    };\n  \n    const userAuthenticated = () => {\n      Axios.get(\"http://localhost:3001/isUserAuth\", {\n        headers: {\"x-access-token\": localStorage.getItem(\"token\"),\n      \n        },\n      }).then((response) => {\n          console.log(response);\n      });\n    };\n  \n    useEffect (() => {\n      Axios.get(\"http://localhost:3001/login\").then((response) => {\n        if (response.data.loggedIn === true){\n          setLoginStatus(response.data.user[0].username);\n        }\n      }); \n    }, []);\n  \n    return (\n      <div className=\"App\">\n        <div className=\"registration\">\n          <h1>Registration</h1>\n          <label>Username</label>\n          <input\n            type=\"text\"\n            onChange={(e) => {\n              setUsernameReg(e.target.value);\n            }}\n          />\n          <label>Password</label>\n          <input\n            type=\"text\"\n            onChange={(e) => {\n              setPasswordReg(e.target.value);\n            }}\n          />\n          <button onClick={register}> Register </button>\n        </div>\n  \n        <div className=\"login\">\n          <h1>Login</h1>\n          <input\n            type=\"text\"\n            placeholder=\"Username...\"\n            onChange={(e) => {\n              setUsername(e.target.value);\n            }}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password...\"\n            onChange={(e) => {\n              setPassword(e.target.value);\n            }} \n          />\n          <button onClick={login}> Login </button>\n  \n          <div>{setLoginStatus}</div>\n        </div>\n        \n        {loginStatus && <button onClick={userAuthenticated}>Check if Authenticated</button>}\n  \n      </div>\n    );\n\n}\n\nexport default Login;*/"]},"metadata":{},"sourceType":"module"}